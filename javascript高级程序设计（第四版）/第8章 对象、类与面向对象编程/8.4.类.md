# 类

- ES6 新引入`class`关键字具有正式定义类的能力，其背后使用的仍然是**原型**和**构造函数**的概念

<a href="" target="_blank">相关代码 →</a>

## 类定义

- 与函数类型类似，定义类也有 2 种主要方式：**类声明**和**类表达式**，2 种方式都是用`class`关键字加大括号

```js
class Person {} // 类声明
var animal = class {} // 类表达式
```

- 类表达式在**被求值前不能引用**（同函数表达式），类定义**不能声明提升**（与函数表达式不同）

```js
console.log(FunctionDeclaration) // [Function: FunctionDeclaration]，函数声明提前
function FunctionDeclaration() {}
console.log(ClassDeclaration) // ReferenceError: Cannot access 'ClassDeclaration' before initialization，类没有声明提前
class ClassDeclaration {}
```

- 类受**块级作用域**限制（函数受**函数作用域**限制）

```js
{
  function FunctionDeclaration2() {}
  class ClassDeclaration2 {}
}
console.log(FunctionDeclaration2) // [Function: FunctionDeclaration2]
console.log(ClassDeclaration2) // ReferenceError: ClassDeclaration2 is not defined
```

### 类的构成

- 类可以包含**构造函数方法**、**实例方法**、**获取函数**、**设置函数**和**静态类方法**，也可以**空类定义**
- 默认情况下，类定义中的代码都在**严格模式**下执行
- **类名**建议**首字母大写**（与构造函数一样），以区分类和实例

```js
class Foo {} // 空类定义
class Bar {
  constructor() {} // 构造函数
  get myBaz() {} // 获取函数
  static myQux() {} // 静态方法
}
```

- 把类表达式赋值给变量后，可以在**类表达式作用域内部**访问类表达式，并通过`name`属性取得**类表达式的名称**

```js
var Person2 = class PersonName {
  identify() {
    console.log(PersonName) // 类表达式作用域内部，访问类表达式
    console.log(Person2.name, PersonName.name) // 类表达式作用域内部，访问类表达式的名称
    /* 
      [class PersonName]
      PersonName PersonName
    */
  }
}
var p = new Person2()
p.identify()
console.log(Person2.name) // PersonName
console.log(PersonName) // ReferenceError: PersonName is not defined，类表达式作用与外部，无法访问类表达式
```

## 类构造函数

## 实例、原型和类成员

## 继承

## 总结 & 问点

- 如何定义 JS 的类？类和函数有哪些异同？
- 类可以包含哪些内容？如何访问类表达式及其名称？
